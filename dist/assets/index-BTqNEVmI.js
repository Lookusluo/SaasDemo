import{_ as A,r as u,a as J,c as K,d as e,w as t,f as r,o as w,b as f,g as i,t as L,l as G,I as H,J as h,K as Q}from"./index-ivoWqWCK.js";const W={class:"user-container"},X={class:"card-header"},Y={class:"pagination-container"},Z={class:"dialog-footer"},ee={__name:"index",setup(le){const b=u(1),v=u(10),C=u(100),d=u(!1),m=u("add"),y=u(null),o=J({username:"",realName:"",email:"",phone:"",role:"",password:""}),x={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],realName:[{required:!0,message:"请输入真实姓名",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"},{type:"email",message:"请输入正确的邮箱地址",trigger:"blur"}],phone:[{required:!0,message:"请输入手机号",trigger:"blur"}],role:[{required:!0,message:"请选择角色",trigger:"change"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},k=u([{userId:"001",username:"admin",realName:"管理员",email:"admin@example.com",phone:"13800138000",role:"管理员",status:1,createTime:"2024-04-22 10:00:00"},{userId:"002",username:"operator",realName:"运营人员",email:"operator@example.com",phone:"13800138001",role:"运营",status:1,createTime:"2024-04-22 11:00:00"},{userId:"003",username:"user",realName:"普通用户",email:"user@example.com",phone:"13800138002",role:"普通用户",status:0,createTime:"2024-04-22 12:00:00"}]),N=n=>({管理员:"danger",运营:"warning",普通用户:"info"})[n]||"info",U=n=>{h.success(`用户 ${n.username} 状态已${n.status===1?"启用":"禁用"}`)},z=()=>{m.value="add",d.value=!0,Object.keys(o).forEach(n=>o[n]="")},T=n=>{m.value="edit",d.value=!0,Object.assign(o,n)},B=n=>{Q.confirm("确认删除该用户?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{h.success("删除成功")})},I=()=>{y.value.validate(n=>{n&&(h.success(m.value==="add"?"新增成功":"更新成功"),d.value=!1)})},S=n=>{v.value=n},q=n=>{b.value=n};return(n,l)=>{const g=r("el-button"),s=r("el-table-column"),$=r("el-tag"),E=r("el-switch"),D=r("el-button-group"),F=r("el-table"),R=r("el-pagination"),j=r("el-card"),c=r("el-input"),p=r("el-form-item"),V=r("el-option"),M=r("el-select"),O=r("el-form"),P=r("el-dialog");return w(),K("div",W,[e(j,null,{header:t(()=>[f("div",X,[l[11]||(l[11]=f("span",null,"用户管理",-1)),e(g,{type:"primary",onClick:z},{default:t(()=>l[10]||(l[10]=[i("新增用户")])),_:1})])]),default:t(()=>[e(F,{data:k.value,style:{width:"100%"}},{default:t(()=>[e(s,{prop:"userId",label:"用户ID",width:"100"}),e(s,{prop:"username",label:"用户名",width:"120"}),e(s,{prop:"realName",label:"真实姓名",width:"120"}),e(s,{prop:"email",label:"邮箱"}),e(s,{prop:"phone",label:"手机号",width:"120"}),e(s,{prop:"role",label:"角色",width:"100"},{default:t(({row:a})=>[e($,{type:N(a.role)},{default:t(()=>[i(L(a.role),1)]),_:2},1032,["type"])]),_:1}),e(s,{prop:"status",label:"状态",width:"100"},{default:t(({row:a})=>[e(E,{modelValue:a.status,"onUpdate:modelValue":_=>a.status=_,"active-value":1,"inactive-value":0,onChange:_=>U(a)},null,8,["modelValue","onUpdate:modelValue","onChange"])]),_:1}),e(s,{prop:"createTime",label:"创建时间",width:"180"}),e(s,{label:"操作",width:"200",fixed:"right"},{default:t(({row:a})=>[e(D,null,{default:t(()=>[e(g,{size:"small",type:"primary",onClick:_=>T(a)},{default:t(()=>l[12]||(l[12]=[i("编辑")])),_:2},1032,["onClick"]),e(g,{size:"small",type:"danger",onClick:_=>B(a)},{default:t(()=>l[13]||(l[13]=[i("删除")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),f("div",Y,[e(R,{"current-page":b.value,"onUpdate:currentPage":l[0]||(l[0]=a=>b.value=a),"page-size":v.value,"onUpdate:pageSize":l[1]||(l[1]=a=>v.value=a),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next",total:C.value,onSizeChange:S,onCurrentChange:q},null,8,["current-page","page-size","total"])])]),_:1}),e(P,{modelValue:d.value,"onUpdate:modelValue":l[9]||(l[9]=a=>d.value=a),title:m.value==="add"?"新增用户":"编辑用户",width:"500px"},{footer:t(()=>[f("span",Z,[e(g,{onClick:l[8]||(l[8]=a=>d.value=!1)},{default:t(()=>l[14]||(l[14]=[i("取消")])),_:1}),e(g,{type:"primary",onClick:I},{default:t(()=>l[15]||(l[15]=[i("确定")])),_:1})])]),default:t(()=>[e(O,{model:o,rules:x,ref_key:"userFormRef",ref:y,"label-width":"80px"},{default:t(()=>[e(p,{label:"用户名",prop:"username"},{default:t(()=>[e(c,{modelValue:o.username,"onUpdate:modelValue":l[2]||(l[2]=a=>o.username=a),placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),e(p,{label:"真实姓名",prop:"realName"},{default:t(()=>[e(c,{modelValue:o.realName,"onUpdate:modelValue":l[3]||(l[3]=a=>o.realName=a),placeholder:"请输入真实姓名"},null,8,["modelValue"])]),_:1}),e(p,{label:"邮箱",prop:"email"},{default:t(()=>[e(c,{modelValue:o.email,"onUpdate:modelValue":l[4]||(l[4]=a=>o.email=a),placeholder:"请输入邮箱"},null,8,["modelValue"])]),_:1}),e(p,{label:"手机号",prop:"phone"},{default:t(()=>[e(c,{modelValue:o.phone,"onUpdate:modelValue":l[5]||(l[5]=a=>o.phone=a),placeholder:"请输入手机号"},null,8,["modelValue"])]),_:1}),e(p,{label:"角色",prop:"role"},{default:t(()=>[e(M,{modelValue:o.role,"onUpdate:modelValue":l[6]||(l[6]=a=>o.role=a),placeholder:"请选择角色"},{default:t(()=>[e(V,{label:"管理员",value:"管理员"}),e(V,{label:"运营",value:"运营"}),e(V,{label:"普通用户",value:"普通用户"})]),_:1},8,["modelValue"])]),_:1}),m.value==="add"?(w(),G(p,{key:0,label:"密码",prop:"password"},{default:t(()=>[e(c,{modelValue:o.password,"onUpdate:modelValue":l[7]||(l[7]=a=>o.password=a),type:"password",placeholder:"请输入密码","show-password":""},null,8,["modelValue"])]),_:1})):H("",!0)]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}},te=A(ee,[["__scopeId","data-v-2eeb0aa0"]]);export{te as default};
