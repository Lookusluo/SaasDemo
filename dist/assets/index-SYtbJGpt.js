import{_ as R,r,a as A,c as J,d as e,w as a,f as n,o as K,b as g,g as i,t as x,K as L,J as C}from"./index-ivoWqWCK.js";const G={class:"task-container"},H={class:"card-header"},Q={class:"pagination-container"},W={class:"dialog-footer"},X={__name:"index",setup(Y){const f=r(1),y=r(10),w=r(100),u=r(!1),m=r("add"),v=r(null),s=A({title:"",priority:"",status:"",description:""}),z={title:[{required:!0,message:"请输入任务标题",trigger:"blur"}],priority:[{required:!0,message:"请选择优先级",trigger:"change"}],status:[{required:!0,message:"请选择状态",trigger:"change"}]},T=r([{taskId:"001",title:"客户需求分析",createTime:"2024-04-22 10:30:30",priority:"高",status:"进行中"},{taskId:"002",title:"系统设计文档",createTime:"2024-04-22 11:20:00",priority:"中",status:"待处理"},{taskId:"003",title:"功能测试",createTime:"2024-04-22 15:45:00",priority:"低",status:"已完成"}]),h=o=>({高:"danger",中:"warning",低:"info"})[o]||"info",S=o=>({待处理:"info",进行中:"warning",已完成:"success"})[o]||"info",U=()=>{m.value="add",u.value=!0,Object.keys(s).forEach(o=>s[o]="")},B=o=>{m.value="edit",u.value=!0,Object.assign(s,o)},I=o=>{L.confirm("确认删除该任务?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(()=>{C.success("删除成功")})},E=()=>{v.value.validate(o=>{o&&(C.success(m.value==="add"?"新建成功":"更新成功"),u.value=!1)})},q=o=>{y.value=o},D=o=>{f.value=o};return(o,t)=>{const c=n("el-button"),d=n("el-table-column"),b=n("el-tag"),F=n("el-button-group"),N=n("el-table"),P=n("el-pagination"),$=n("el-card"),k=n("el-input"),_=n("el-form-item"),p=n("el-option"),V=n("el-select"),j=n("el-form"),M=n("el-dialog");return K(),J("div",G,[e($,null,{header:a(()=>[g("div",H,[t[9]||(t[9]=g("span",null,"任务列表",-1)),e(c,{type:"primary",onClick:U},{default:a(()=>t[8]||(t[8]=[i("新建任务")])),_:1})])]),default:a(()=>[e(N,{data:T.value,style:{width:"100%"}},{default:a(()=>[e(d,{prop:"taskId",label:"任务ID",width:"100"}),e(d,{prop:"title",label:"任务标题"}),e(d,{prop:"createTime",label:"创建时间",width:"180"}),e(d,{prop:"priority",label:"优先级",width:"100"},{default:a(({row:l})=>[e(b,{type:h(l.priority)},{default:a(()=>[i(x(l.priority),1)]),_:2},1032,["type"])]),_:1}),e(d,{prop:"status",label:"状态",width:"100"},{default:a(({row:l})=>[e(b,{type:S(l.status)},{default:a(()=>[i(x(l.status),1)]),_:2},1032,["type"])]),_:1}),e(d,{label:"操作",width:"200",fixed:"right"},{default:a(({row:l})=>[e(F,null,{default:a(()=>[e(c,{size:"small",type:"primary",onClick:O=>B(l)},{default:a(()=>t[10]||(t[10]=[i("编辑")])),_:2},1032,["onClick"]),e(c,{size:"small",type:"danger",onClick:O=>I(l)},{default:a(()=>t[11]||(t[11]=[i("删除")])),_:2},1032,["onClick"])]),_:2},1024)]),_:1})]),_:1},8,["data"]),g("div",Q,[e(P,{"current-page":f.value,"onUpdate:currentPage":t[0]||(t[0]=l=>f.value=l),"page-size":y.value,"onUpdate:pageSize":t[1]||(t[1]=l=>y.value=l),"page-sizes":[10,20,50,100],layout:"total, sizes, prev, pager, next",total:w.value,onSizeChange:q,onCurrentChange:D},null,8,["current-page","page-size","total"])])]),_:1}),e(M,{modelValue:u.value,"onUpdate:modelValue":t[7]||(t[7]=l=>u.value=l),title:m.value==="add"?"新建任务":"编辑任务",width:"500px"},{footer:a(()=>[g("span",W,[e(c,{onClick:t[6]||(t[6]=l=>u.value=!1)},{default:a(()=>t[12]||(t[12]=[i("取消")])),_:1}),e(c,{type:"primary",onClick:E},{default:a(()=>t[13]||(t[13]=[i("确定")])),_:1})])]),default:a(()=>[e(j,{model:s,rules:z,ref_key:"taskFormRef",ref:v,"label-width":"80px"},{default:a(()=>[e(_,{label:"标题",prop:"title"},{default:a(()=>[e(k,{modelValue:s.title,"onUpdate:modelValue":t[2]||(t[2]=l=>s.title=l),placeholder:"请输入任务标题"},null,8,["modelValue"])]),_:1}),e(_,{label:"优先级",prop:"priority"},{default:a(()=>[e(V,{modelValue:s.priority,"onUpdate:modelValue":t[3]||(t[3]=l=>s.priority=l),placeholder:"请选择优先级"},{default:a(()=>[e(p,{label:"高",value:"高"}),e(p,{label:"中",value:"中"}),e(p,{label:"低",value:"低"})]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"状态",prop:"status"},{default:a(()=>[e(V,{modelValue:s.status,"onUpdate:modelValue":t[4]||(t[4]=l=>s.status=l),placeholder:"请选择状态"},{default:a(()=>[e(p,{label:"待处理",value:"待处理"}),e(p,{label:"进行中",value:"进行中"}),e(p,{label:"已完成",value:"已完成"})]),_:1},8,["modelValue"])]),_:1}),e(_,{label:"描述",prop:"description"},{default:a(()=>[e(k,{modelValue:s.description,"onUpdate:modelValue":t[5]||(t[5]=l=>s.description=l),type:"textarea",rows:"4",placeholder:"请输入任务描述"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"])])}}},ee=R(X,[["__scopeId","data-v-c54c994d"]]);export{ee as default};
